<!-- @format -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Server-Side Rendering (SSR) - Interactive Guide</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="container">
      <header>
        <h1>âš¡ Server-Side Rendering (SSR)</h1>
        <p class="subtitle">
          Understanding how SSR makes websites faster and more SEO-friendly
        </p>
      </header>

      <nav class="tab-navigation">
        <button class="tab-btn active" onclick="showTab('basics')">
          SSR Basics
        </button>
        <button class="tab-btn" onclick="showTab('comparison')">
          SSR vs CSR
        </button>
        <button class="tab-btn" onclick="showTab('visualization')">
          Live Demo
        </button>
        <button class="tab-btn" onclick="showTab('implementation')">
          Implementation
        </button>
      </nav>

      <!-- SSR Basics Tab -->
      <div id="basics" class="tab-content active">
        <h2>ğŸ¯ What is Server-Side Rendering?</h2>

        <div class="concept-cards">
          <div class="concept-card">
            <div class="concept-icon">ğŸ–¥ï¸</div>
            <h3>Server</h3>
            <p>Prepares complete HTML with all content</p>
          </div>
          <div class="concept-arrow">â†’</div>
          <div class="concept-card">
            <div class="concept-icon">ğŸ“¦</div>
            <h3>Network</h3>
            <p>Sends fully rendered page</p>
          </div>
          <div class="concept-arrow">â†’</div>
          <div class="concept-card">
            <div class="concept-icon">ğŸŒ</div>
            <h3>Browser</h3>
            <p>Displays content immediately</p>
          </div>
        </div>

        <div class="analogy-section">
          <h3>ğŸ• The Pizza Delivery Analogy</h3>
          <div class="analogy-comparison">
            <div class="analogy-item csr">
              <h4>Client-Side Rendering (CSR)</h4>
              <div class="analogy-steps">
                <div class="step">ğŸ“¦ Receive ingredients box</div>
                <div class="step">ğŸ“‹ Read recipe instructions</div>
                <div class="step">ğŸ‘¨â€ğŸ³ Make dough from scratch</div>
                <div class="step">ğŸ¥« Add sauce and toppings</div>
                <div class="step">ğŸ”¥ Bake in your oven</div>
                <div class="step">ğŸ• Finally eat! (30 min later)</div>
              </div>
              <div class="analogy-time">â±ï¸ Total Time: ~30 minutes</div>
            </div>
            <div class="analogy-item ssr">
              <h4>Server-Side Rendering (SSR)</h4>
              <div class="analogy-steps">
                <div class="step">ğŸ• Restaurant makes pizza</div>
                <div class="step">ğŸ“¦ Delivers hot and ready</div>
                <div class="step">ğŸ˜‹ Eat immediately!</div>
              </div>
              <div class="analogy-time">â±ï¸ Total Time: ~5 minutes</div>
            </div>
          </div>
        </div>

        <div class="benefits-section">
          <h3>âœ¨ Key Benefits of SSR</h3>
          <div class="benefits-grid">
            <div class="benefit-card">
              <div class="benefit-icon">ğŸ”</div>
              <h4>Better SEO</h4>
              <p>Search engines can read your content easily</p>
              <div class="benefit-detail">
                <strong>Impact:</strong> 40-60% more organic traffic
              </div>
            </div>
            <div class="benefit-card">
              <div class="benefit-icon">âš¡</div>
              <h4>Faster FCP</h4>
              <p>First Contentful Paint happens instantly</p>
              <div class="benefit-detail">
                <strong>Speed:</strong> 0.5-1s vs 3-5s
              </div>
            </div>
            <div class="benefit-card">
              <div class="benefit-icon">ğŸ“±</div>
              <h4>Better on Mobile</h4>
              <p>Works great on low-end devices</p>
              <div class="benefit-detail">
                <strong>Battery:</strong> 30% less consumption
              </div>
            </div>
            <div class="benefit-card">
              <div class="benefit-icon">ğŸ”—</div>
              <h4>Social Sharing</h4>
              <p>Perfect previews on Facebook, Twitter, etc.</p>
              <div class="benefit-detail">
                <strong>CTR:</strong> 2-3x higher
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Comparison Tab -->
      <div id="comparison" class="tab-content">
        <h2>âš”ï¸ SSR vs CSR vs SSG</h2>

        <div class="comparison-table-wrapper">
          <table class="comparison-table">
            <thead>
              <tr>
                <th>Feature</th>
                <th class="ssr-col">SSR</th>
                <th class="csr-col">CSR</th>
                <th class="ssg-col">SSG</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>When Rendered</strong></td>
                <td class="ssr-col">Each request</td>
                <td class="csr-col">In browser</td>
                <td class="ssg-col">Build time</td>
              </tr>
              <tr>
                <td><strong>SEO Score</strong></td>
                <td class="ssr-col">â­â­â­â­â­</td>
                <td class="csr-col">â­â­</td>
                <td class="ssg-col">â­â­â­â­â­</td>
              </tr>
              <tr>
                <td><strong>Initial Load</strong></td>
                <td class="ssr-col">Fast (0.5-1.5s)</td>
                <td class="csr-col">Slow (2-5s)</td>
                <td class="ssg-col">Fastest (0.1-0.5s)</td>
              </tr>
              <tr>
                <td><strong>Dynamic Content</strong></td>
                <td class="ssr-col">âœ… Yes</td>
                <td class="csr-col">âœ… Yes</td>
                <td class="ssg-col">âŒ No</td>
              </tr>
              <tr>
                <td><strong>Server Cost</strong></td>
                <td class="ssr-col">High</td>
                <td class="csr-col">Low</td>
                <td class="ssg-col">Very Low</td>
              </tr>
              <tr>
                <td><strong>TTI</strong></td>
                <td class="ssr-col">1-3s</td>
                <td class="csr-col">3-6s</td>
                <td class="ssg-col">0.5-2s</td>
              </tr>
              <tr>
                <td><strong>Best For</strong></td>
                <td class="ssr-col">E-commerce, News</td>
                <td class="csr-col">Apps, Dashboards</td>
                <td class="ssg-col">Blogs, Docs</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="use-cases">
          <h3>ğŸ¯ When to Use Each Approach</h3>
          <div class="use-case-grid">
            <div class="use-case ssr">
              <h4>Use SSR For:</h4>
              <ul>
                <li>âœ… E-commerce product pages</li>
                <li>âœ… News articles</li>
                <li>âœ… Social media feeds</li>
                <li>âœ… Real estate listings</li>
                <li>âœ… Job boards</li>
              </ul>
            </div>
            <div class="use-case csr">
              <h4>Use CSR For:</h4>
              <ul>
                <li>âœ… Admin dashboards</li>
                <li>âœ… Chat applications</li>
                <li>âœ… Private tools</li>
                <li>âœ… Rich editors</li>
                <li>âœ… Games</li>
              </ul>
            </div>
            <div class="use-case ssg">
              <h4>Use SSG For:</h4>
              <ul>
                <li>âœ… Blog posts</li>
                <li>âœ… Documentation</li>
                <li>âœ… Landing pages</li>
                <li>âœ… Portfolio sites</li>
                <li>âœ… Marketing sites</li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <!-- Visualization Tab -->
      <div id="visualization" class="tab-content">
        <h2>ğŸ¬ Live Rendering Demo</h2>

        <div class="demo-controls">
          <button class="demo-btn csr-btn" onclick="simulateCSR()">
            ğŸŒ Simulate CSR
          </button>
          <button class="demo-btn ssr-btn" onclick="simulateSSR()">
            âš¡ Simulate SSR
          </button>
          <button class="demo-btn ssg-btn" onclick="simulateSSG()">
            ğŸš€ Simulate SSG
          </button>
          <button class="demo-btn reset-btn" onclick="resetDemo()">
            ğŸ”„ Reset
          </button>
        </div>

        <div class="visualization-area">
          <div class="render-flow">
            <div class="flow-section server">
              <h4>ğŸ–¥ï¸ Server</h4>
              <div id="server-activity" class="activity-log"></div>
            </div>
            <div class="flow-section network">
              <h4>ğŸŒ Network</h4>
              <div id="network-activity" class="activity-log"></div>
            </div>
            <div class="flow-section browser">
              <h4>ğŸ’» Browser</h4>
              <div id="browser-activity" class="activity-log"></div>
            </div>
          </div>

          <div class="metrics-display">
            <h4>ğŸ“Š Performance Metrics</h4>
            <div class="metrics-grid">
              <div class="metric">
                <div class="metric-label">TTFB</div>
                <div id="ttfb-value" class="metric-value">-</div>
              </div>
              <div class="metric">
                <div class="metric-label">FCP</div>
                <div id="fcp-value" class="metric-value">-</div>
              </div>
              <div class="metric">
                <div class="metric-label">TTI</div>
                <div id="tti-value" class="metric-value">-</div>
              </div>
              <div class="metric">
                <div class="metric-label">Total</div>
                <div id="total-value" class="metric-value">-</div>
              </div>
            </div>
          </div>

          <div class="browser-viewport">
            <div class="viewport-header">
              <div class="viewport-controls">
                <span class="dot red"></span>
                <span class="dot yellow"></span>
                <span class="dot green"></span>
              </div>
              <div class="viewport-url">https://example.com</div>
            </div>
            <div id="viewport-content" class="viewport-body">
              <div class="viewport-placeholder">
                Click a simulation button to see the rendering process
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Implementation Tab -->
      <div id="implementation" class="tab-content">
        <h2>ğŸ’» SSR Implementation</h2>

        <div class="framework-tabs">
          <button
            class="framework-btn active"
            onclick="showFramework('nextjs')">
            Next.js
          </button>
          <button class="framework-btn" onclick="showFramework('nuxt')">
            Nuxt.js
          </button>
          <button class="framework-btn" onclick="showFramework('sveltekit')">
            SvelteKit
          </button>
        </div>

        <!-- Next.js Implementation -->
        <div id="nextjs" class="framework-content active">
          <h3>Next.js (React) Implementation</h3>

          <div class="code-example">
            <div class="code-header">
              <span class="code-file">pages/products/[id].js</span>
              <button class="copy-btn" onclick="copyCode(this)">ğŸ“‹ Copy</button>
            </div>
            <pre><code>// Server-Side Rendering in Next.js
export async function getServerSideProps(context) {
  const { id } = context.params
  
  // This code runs on the server for EACH request
  try {
    const res = await fetch(`https://api.example.com/products/${id}`)
    const product = await res.json()
    
    return {
      props: {
        product,
        timestamp: new Date().toISOString()
      }
    }
  } catch (error) {
    return {
      notFound: true // Shows 404 page
    }
  }
}

export default function ProductPage({ product, timestamp }) {
  return (
    &lt;div&gt;
      &lt;h1&gt;{product.name}&lt;/h1&gt;
      &lt;p&gt;Price: ${product.price}&lt;/p&gt;
      &lt;p&gt;Stock: {product.stock} units&lt;/p&gt;
      &lt;small&gt;Rendered at: {timestamp}&lt;/small&gt;
    &lt;/div&gt;
  )
}</code></pre>
          </div>

          <div class="implementation-notes">
            <h4>Key Points:</h4>
            <ul>
              <li>âœ… <code>getServerSideProps</code> runs on every request</li>
              <li>âœ… Perfect for dynamic data that changes frequently</li>
              <li>âœ… Always returns fresh data</li>
              <li>âœ… Can access request context (cookies, headers)</li>
            </ul>
          </div>
        </div>

        <!-- Nuxt.js Implementation -->
        <div id="nuxt" class="framework-content">
          <h3>Nuxt.js (Vue) Implementation</h3>

          <div class="code-example">
            <div class="code-header">
              <span class="code-file">pages/products/_id.vue</span>
              <button class="copy-btn" onclick="copyCode(this)">ğŸ“‹ Copy</button>
            </div>
            <pre><code>&lt;template&gt;
  &lt;div&gt;
    &lt;h1&gt;{{ product.name }}&lt;/h1&gt;
    &lt;p&gt;Price: ${{ product.price }}&lt;/p&gt;
    &lt;p&gt;Stock: {{ product.stock }} units&lt;/p&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  async asyncData({ params, $axios }) {
    // Runs on server for each request
    try {
      const product = await $axios.$get(
        `https://api.example.com/products/${params.id}`
      )
      return { product }
    } catch (error) {
      return { product: null }
    }
  }
}
&lt;/script&gt;</code></pre>
          </div>

          <div class="implementation-notes">
            <h4>Key Points:</h4>
            <ul>
              <li>âœ… <code>asyncData</code> fetches data before rendering</li>
              <li>âœ… Automatic server-side rendering</li>
              <li>âœ… Built-in error handling</li>
              <li>âœ… Access to Nuxt context</li>
            </ul>
          </div>
        </div>

        <!-- SvelteKit Implementation -->
        <div id="sveltekit" class="framework-content">
          <h3>SvelteKit (Svelte) Implementation</h3>

          <div class="code-example">
            <div class="code-header">
              <span class="code-file"
                >routes/products/[id]/+page.server.js</span
              >
              <button class="copy-btn" onclick="copyCode(this)">ğŸ“‹ Copy</button>
            </div>
            <pre><code>// SvelteKit server-side load function
export async function load({ params, fetch }) {
  // Runs on server for each request
  try {
    const response = await fetch(
      `https://api.example.com/products/${params.id}`
    )
    const product = await response.json()
    
    return {
      product,
      timestamp: new Date().toISOString()
    }
  } catch (error) {
    return {
      status: 404,
      error: new Error('Product not found')
    }
  }
}</code></pre>
          </div>

          <div class="code-example">
            <div class="code-header">
              <span class="code-file">routes/products/[id]/+page.svelte</span>
              <button class="copy-btn" onclick="copyCode(this)">ğŸ“‹ Copy</button>
            </div>
            <pre><code>&lt;script&gt;
  export let data
&lt;/script&gt;

&lt;div&gt;
  &lt;h1&gt;{data.product.name}&lt;/h1&gt;
  &lt;p&gt;Price: ${data.product.price}&lt;/p&gt;
  &lt;p&gt;Stock: {data.product.stock} units&lt;/p&gt;
  &lt;small&gt;Rendered at: {data.timestamp}&lt;/small&gt;
&lt;/div&gt;</code></pre>
          </div>

          <div class="implementation-notes">
            <h4>Key Points:</h4>
            <ul>
              <li>âœ… <code>load</code> function handles server logic</li>
              <li>âœ… Clean separation of concerns</li>
              <li>âœ… Automatic type inference</li>
              <li>âœ… Built-in error handling</li>
            </ul>
          </div>
        </div>

        <div class="best-practices">
          <h3>ğŸ¯ SSR Best Practices</h3>
          <div class="practices-grid">
            <div class="practice do">
              <h4>âœ… DO</h4>
              <ul>
                <li>Cache SSR responses when possible</li>
                <li>Handle errors gracefully</li>
                <li>Use TypeScript for type safety</li>
                <li>Implement timeout for API calls</li>
                <li>Monitor server performance</li>
              </ul>
            </div>
            <div class="practice dont">
              <h4>âŒ DON'T</h4>
              <ul>
                <li>Access browser APIs in server code</li>
                <li>Make unnecessary API calls</li>
                <li>Ignore memory leaks</li>
                <li>Skip error boundaries</li>
                <li>Expose sensitive data</li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <footer>
        <div class="footer-content">
          <h3>ğŸ“ Ready to Master SSR?</h3>
          <p>
            Server-Side Rendering is a crucial skill for modern web development!
          </p>
          <div class="footer-stats">
            <div class="stat">
              <div class="stat-value">67%</div>
              <div class="stat-label">of companies use SSR</div>
            </div>
            <div class="stat">
              <div class="stat-value">2-3x</div>
              <div class="stat-label">better SEO results</div>
            </div>
            <div class="stat">
              <div class="stat-value">40%</div>
              <div class="stat-label">faster page loads</div>
            </div>
          </div>
          <div class="footer-actions">
            <a
              href="https://nextjs.org/learn"
              target="_blank"
              class="btn-primary"
              >Learn Next.js SSR</a
            >
            <a
              href="https://nuxt.com/docs"
              target="_blank"
              class="btn-secondary"
              >Learn Nuxt SSR</a
            >
          </div>
        </div>
      </footer>
    </div>

    <script src="script.js"></script>
  </body>
</html>
